---
name: Fix FAB duplicado en TagsScreen
status: closed
created: 2026-01-06T17:01:04Z
updated: 2026-01-06T17:39:37Z
github: https://github.com/javikin/umbral/issues/48
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Fix FAB duplicado en TagsScreen

## Description

Cuando la pantalla de Tags NFC está vacía (empty state), se muestran dos botones para agregar un tag:
1. Botón central en el empty state
2. FAB (Floating Action Button) en la esquina inferior derecha

Esto es redundante y confuso para el usuario. El FAB solo debe aparecer cuando ya existen tags.

## Acceptance Criteria

- [ ] Empty state muestra solo el botón central "Agregar tag"
- [ ] FAB NO aparece cuando `uiState.tags.isEmpty()`
- [ ] FAB SÍ aparece cuando `uiState.tags.isNotEmpty()`
- [ ] La funcionalidad de agregar tag sigue funcionando en ambos casos
- [ ] Sin regresiones en otras funcionalidades de TagsScreen

## Technical Details

**Archivo:** `app/src/main/java/com/umbral/presentation/ui/screens/nfc/TagsScreen.kt`

**Cambio requerido (líneas 79-86):**

```kotlin
// ANTES:
floatingActionButton = {
    FloatingActionButton(
        onClick = onNavigateToScan,
        containerColor = MaterialTheme.colorScheme.primary
    ) {
        Icon(Icons.Default.Add, contentDescription = "Agregar tag")
    }
}

// DESPUÉS:
floatingActionButton = {
    if (uiState.tags.isNotEmpty()) {
        FloatingActionButton(
            onClick = onNavigateToScan,
            containerColor = MaterialTheme.colorScheme.primary
        ) {
            Icon(Icons.Default.Add, contentDescription = "Agregar tag")
        }
    }
}
```

## Dependencies

- [ ] Ninguna - tarea independiente

## Effort Estimate

- Size: XS
- Hours: 0.25
- Parallel: true

## Definition of Done

- [ ] Código implementado
- [ ] Probado en dispositivo real
- [ ] Empty state sin FAB
- [ ] Con tags, FAB visible
