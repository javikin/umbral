---
name: add-unlock-step-onboarding
status: closed
priority: high
github: https://github.com/javikin/umbral/issues/21
created: 2026-01-04T23:34:58Z
updated: 2026-01-04T23:34:58Z
depends_on: []
parallel: true
---

# Task 3: Agregar Paso "CÃ³mo Desbloquear"

## Problema

El onboarding no explica al usuario cÃ³mo puede desactivar el bloqueo de apps una vez activado.

## SoluciÃ³n

### 1. Crear Nueva Pantalla

```kotlin
// HowToUnblockScreen.kt
@Composable
fun HowToUnblockScreen(
    onContinue: () -> Unit
) {
    Column(
        modifier = Modifier.fillMaxSize(),
        horizontalAlignment = Alignment.CenterHorizontally,
        verticalArrangement = Arrangement.Center
    ) {
        // Icono de NFC + QR
        Icon(
            imageVector = Icons.Default.Nfc,
            contentDescription = null,
            modifier = Modifier.size(120.dp)
        )

        Text(
            text = "Â¿CÃ³mo desbloquear tus apps?",
            style = MaterialTheme.typography.headlineMedium
        )

        Spacer(modifier = Modifier.height(24.dp))

        // OpciÃ³n 1: NFC
        UnlockOptionCard(
            icon = Icons.Default.Nfc,
            title = "Tag NFC",
            description = "Acerca tu telÃ©fono a un tag NFC programado"
        )

        // OpciÃ³n 2: QR
        UnlockOptionCard(
            icon = Icons.Default.QrCode,
            title = "CÃ³digo QR",
            description = "Escanea un cÃ³digo QR de desbloqueo"
        )

        Spacer(modifier = Modifier.weight(1f))

        Button(onClick = onContinue) {
            Text("Entendido")
        }
    }
}
```

### 2. Agregar Strings

```xml
<!-- strings.xml -->
<string name="onboarding_unlock_title">Â¿CÃ³mo desbloquear tus apps?</string>
<string name="onboarding_unlock_nfc_title">Tag NFC</string>
<string name="onboarding_unlock_nfc_desc">Acerca tu telÃ©fono a un tag NFC programado</string>
<string name="onboarding_unlock_qr_title">CÃ³digo QR</string>
<string name="onboarding_unlock_qr_desc">Escanea un cÃ³digo QR de desbloqueo</string>
<string name="onboarding_unlock_button">Entendido</string>
```

### 3. Integrar en Flujo

El nuevo flujo de onboarding:
1. Welcome (bienvenida)
2. HowItWorks (cÃ³mo funciona el bloqueo)
3. **HowToUnblock (NUEVO - cÃ³mo desbloquear)**
4. Permissions (solicitar permisos)
5. Success (Ã©xito)

## Archivos a Modificar

- Crear: `app/src/main/java/com/umbral/presentation/ui/screens/onboarding/HowToUnblockScreen.kt`
- Modificar: `app/src/main/java/com/umbral/presentation/ui/screens/onboarding/OnboardingScreen.kt`
- Modificar: `app/src/main/res/values/strings.xml`

## DiseÃ±o Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                             â”‚
â”‚         [NFC Icon]          â”‚
â”‚                             â”‚
â”‚  Â¿CÃ³mo desbloquear tus apps?â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“± Tag NFC              â”‚ â”‚
â”‚ â”‚ Acerca tu telÃ©fono...   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“· CÃ³digo QR            â”‚ â”‚
â”‚ â”‚ Escanea un cÃ³digo QR... â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚
â”‚      [ Entendido ]          â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Criterio de Done

- [ ] Pantalla muestra opciones NFC y QR claramente
- [ ] Textos en espaÃ±ol claros
- [ ] Flujo: HowItWorks â†’ HowToUnblock â†’ Permissions
- [ ] Iconos visibles y apropiados
