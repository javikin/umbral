---
name: configure-jacoco
status: closed
priority: high
github: https://github.com/javikin/umbral/issues/8
created: 2026-01-04T03:42:34Z
updated: 2026-01-04T03:50:00Z
depends_on: []
parallel: true
---

# Task 8: Configurar JaCoCo para Cobertura

## Descripción

Configurar JaCoCo para medir cobertura de código en el proyecto Android.

## Archivos a crear/modificar

1. `app/jacoco.gradle` - Configuración de JaCoCo
2. `app/build.gradle.kts` - Aplicar plugin

## Implementación

### 1. Crear jacoco.gradle

```groovy
apply plugin: 'jacoco'

jacoco {
    toolVersion = "0.8.11"
}

tasks.register("jacocoTestReport", JacocoReport) {
    dependsOn 'testDebugUnitTest'

    reports {
        xml.required = true
        html.required = true
    }

    def fileFilter = [
        '**/R.class', '**/R$*.class', '**/BuildConfig.*',
        '**/Manifest*.*', '**/*Test*.*', '**/Hilt_*.*',
        '**/*_Factory.*', '**/*_MembersInjector.*'
    ]

    def debugTree = fileTree(
        dir: "${buildDir}/tmp/kotlin-classes/debug",
        excludes: fileFilter
    )

    sourceDirectories.setFrom(files(["${project.projectDir}/src/main/java"]))
    classDirectories.setFrom(files([debugTree]))
    executionData.setFrom(fileTree(dir: buildDir, includes: ['jacoco/testDebugUnitTest.exec']))
}
```

## Verificación

```bash
./gradlew jacocoTestReport
open app/build/reports/jacoco/jacocoTestReport/html/index.html
```

## Criterio de Done

- [ ] Plugin JaCoCo configurado
- [ ] `./gradlew jacocoTestReport` genera reporte
- [ ] Cobertura actual medida y documentada
