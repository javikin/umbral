---
name: RediseÃ±ar Home Screen
status: closed
created: 2026-01-05T03:15:00Z
updated: 2026-01-05T03:15:00Z
github:
parallel: false
depends_on: [001, 002]
effort: 8h
---

# Task: RediseÃ±ar Home Screen

## DescripciÃ³n

Transformar la pantalla principal en un dashboard limpio y visualmente atractivo.

## DiseÃ±o Actual vs Nuevo

### Actual
- Card bÃ¡sica de estado
- Contador de streak simple
- Botones de NFC/QR

### Nuevo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     ğŸ”’ ProtecciÃ³n Activa    â”‚   â”‚ <- Card principal con gradiente
â”‚  â”‚     Perfil: Productividad   â”‚   â”‚
â”‚  â”‚                             â”‚   â”‚
â”‚  â”‚     â± 2h 34m bloqueado     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ”¥ 12 dÃ­as                 â”‚   â”‚ <- Streak display
â”‚  â”‚  â”Œâ”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”¬â”€â”           â”‚   â”‚
â”‚  â”‚  â”‚â—â”‚â—â”‚â—â”‚â—â”‚â—â”‚â—â”‚â—‹â”‚           â”‚   â”‚ <- Mini calendario
â”‚  â”‚  â””â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”´â”€â”˜           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ ğŸ“± NFC   â”‚  â”‚ ğŸ“· QR    â”‚        â”‚ <- Quick actions
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ EstadÃ­sticas               â–¶â”‚   â”‚ <- Stats preview
â”‚  â”‚ â–â–‚â–ƒâ–…â–†â–‡â–ˆâ–†â–„â–ƒ Ãºltimos 7 dÃ­as  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Componentes a Implementar

### 1. StatusCard

```kotlin
@Composable
fun StatusCard(
    isActive: Boolean,
    profileName: String?,
    timeBlocked: Duration?,
    onToggle: () -> Unit
) {
    UmbralCard(
        modifier = Modifier
            .fillMaxWidth()
            .background(
                brush = Brush.linearGradient(
                    colors = if (isActive)
                        listOf(UmbralPrimary, UmbralSecondary)
                    else
                        listOf(LightSurface, LightSurface)
                )
            )
    ) {
        // Icono animado (candado abre/cierra)
        AnimatedLockIcon(isLocked = isActive)

        // Estado
        Text(
            if (isActive) "ProtecciÃ³n Activa" else "ProtecciÃ³n Inactiva",
            style = MaterialTheme.typography.titleLarge
        )

        // Perfil activo
        profileName?.let {
            Text("Perfil: $it", style = MaterialTheme.typography.bodyMedium)
        }

        // Tiempo bloqueado (si estÃ¡ activo)
        timeBlocked?.let {
            Text("â± ${it.format()} bloqueado")
        }
    }
}
```

### 2. StreakCard (usar componente StreakDisplay)

```kotlin
@Composable
fun StreakCard(
    currentStreak: Int,
    lastSevenDays: List<Boolean> // true = dÃ­a completado
) {
    UmbralCard {
        Row {
            // NÃºmero grande con fuego
            StreakDisplay(currentStreak)

            Spacer(Modifier.weight(1f))

            // Mini calendario
            MiniCalendar(lastSevenDays)
        }

        // CelebraciÃ³n en milestones
        if (currentStreak in listOf(7, 30, 100)) {
            MilestoneBadge(currentStreak)
        }
    }
}
```

### 3. QuickActionsRow

```kotlin
@Composable
fun QuickActionsRow(
    onNfcClick: () -> Unit,
    onQrClick: () -> Unit
) {
    Row(
        horizontalArrangement = Arrangement.spacedBy(UmbralSpacing.md)
    ) {
        QuickActionCard(
            icon = R.drawable.ic_nfc,
            label = "Escanear NFC",
            onClick = onNfcClick,
            modifier = Modifier.weight(1f)
        )
        QuickActionCard(
            icon = R.drawable.ic_qr,
            label = "Escanear QR",
            onClick = onQrClick,
            modifier = Modifier.weight(1f)
        )
    }
}
```

### 4. StatsPreviewCard

```kotlin
@Composable
fun StatsPreviewCard(
    weeklyData: List<Int>,
    onClick: () -> Unit
) {
    UmbralCard(onClick = onClick) {
        Row {
            Text("EstadÃ­sticas", style = MaterialTheme.typography.titleMedium)
            Spacer(Modifier.weight(1f))
            Icon(Icons.AutoMirrored.Filled.KeyboardArrowRight, "Ver mÃ¡s")
        }

        Spacer(Modifier.height(UmbralSpacing.sm))

        StatsGraph(
            data = weeklyData.map { it.toFloat() },
            modifier = Modifier
                .fillMaxWidth()
                .height(60.dp)
        )

        Text(
            "Ãšltimos 7 dÃ­as",
            style = MaterialTheme.typography.bodySmall,
            color = MaterialTheme.colorScheme.onSurfaceVariant
        )
    }
}
```

## Archivos a Modificar

- `HomeScreen.kt` - RediseÃ±o completo
- `HomeViewModel.kt` - Agregar datos para stats preview

## Criterios de AceptaciÃ³n

- [ ] Card de estado con gradiente funciona
- [ ] Icono de candado se anima al cambiar estado
- [ ] Streak con mini calendario muestra Ãºltimos 7 dÃ­as
- [ ] Quick actions con hover/press states
- [ ] Stats preview muestra grÃ¡fica real
- [ ] Dark mode funciona correctamente
- [ ] Pull to refresh con animaciÃ³n custom

## Animaciones

- Card de estado: gradiente animado al activar/desactivar
- Icono candado: rotaciÃ³n + morph al cambiar
- Streak: number counter animation en cambio
- Mini calendario: dots aparecen con delay
- Stats graph: drawing animation al entrar
