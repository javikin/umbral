---
name: setup-glance-dependencies
status: closed
priority: high
github: https://github.com/javikin/umbral/issues/40
created: 2026-01-06T02:54:04Z
updated: 2026-01-06T04:03:42Z
depends_on: []
parallel: true
---

# Task 1: Setup Glance Dependencies

## Objetivo

Configurar las dependencias de Jetpack Glance y crear la estructura base para widgets.

## Implementación

### 1. Agregar Dependencias

```kotlin
// app/build.gradle.kts
dependencies {
    // Glance for Widgets
    implementation("androidx.glance:glance-appwidget:1.1.0")
    implementation("androidx.glance:glance-material3:1.1.0")
}
```

### 2. Crear Estructura de Carpetas

```
app/src/main/java/com/umbral/
├── glance/
│   ├── theme/
│   │   └── WidgetTheme.kt
│   ├── components/
│   │   └── WidgetComponents.kt
│   └── util/
│       └── WidgetUpdateHelper.kt
```

### 3. Crear WidgetTheme.kt

```kotlin
package com.umbral.glance.theme

import androidx.glance.color.ColorProviders
import androidx.glance.material3.ColorScheme
import androidx.glance.unit.ColorProvider

object WidgetColors {
    val surface = ColorProvider(Color(0xFF1A1D26))
    val onSurface = ColorProvider(Color.White)
    val onSurfaceVariant = ColorProvider(Color(0xFF9CA3AF))
    val primary = ColorProvider(Color(0xFF8B5CF6))
    val streak = ColorProvider(Color(0xFFF59E0B))
}
```

### 4. Crear WidgetUpdateHelper.kt

```kotlin
package com.umbral.glance.util

import android.content.Context
import androidx.glance.appwidget.GlanceAppWidgetManager
import androidx.glance.appwidget.state.updateAppWidgetState
import kotlinx.coroutines.CoroutineScope
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.launch

object WidgetUpdateHelper {
    fun updateAllWidgets(context: Context) {
        CoroutineScope(Dispatchers.IO).launch {
            // Update status widgets
            // Update streak widgets
        }
    }
}
```

## Criterio de Done

- [ ] Dependencias agregadas y proyecto compila
- [ ] Estructura de carpetas creada
- [ ] WidgetTheme con colores de Umbral
- [ ] WidgetUpdateHelper básico

## Estimación

~2 horas
